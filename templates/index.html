<!DOCTYPE html>
<html>
<head>
    <title>Formation Internal Data Server</title>
    <style>
        body { font-family: Arial; padding: 30px; }
        .row { margin-bottom: 15px; }
        input { padding: 8px; width: 300px; margin-right: 10px; }
        button { padding: 8px 12px; }
        pre { background: #f4f4f4; padding: 15px; white-space: pre-wrap; word-wrap: break-word; }
    </style>
</head>
<body>

<h2>Internal Data Server</h2>

<div class="row">
    <input id="barcode" placeholder="Input Barcode..." />
    <input id="process" placeholder="Input Process..." />
    <button onclick="lookup()">Lookup</button>
</div>

<pre id="result"></pre>

<script>
function lookup() {
    const barcode = document.getElementById("barcode").value;
    const process = document.getElementById("process").value;

    let query = [];
    if(barcode) query.push("barcode=" + encodeURIComponent(barcode));
    if(process) query.push("process=" + encodeURIComponent(process));

    fetch(`/lookup?${query.join("&")}`)
        .then(r => r.json())
        .then(data => {
            document.getElementById("result").textContent =
                JSON.stringify(data, null, 2);
        })
        .catch(err => {
            document.getElementById("result").textContent = "Error: " + err;
        });
}
</script>

</body>
</html>
